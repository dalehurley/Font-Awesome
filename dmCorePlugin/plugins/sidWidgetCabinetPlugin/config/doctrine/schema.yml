SidCabinetPageCabinet:
  actAs:
    DmSortable:
    I18n:
      fields: [ title, text, resume ]
      actAs:
        DmVersionable:
        Timestampable:
  columns:
    title:
      type: string(255)
      notnull: true
#    title_entete_page:
#      type: string(255)
#      notnull: true
    resume:
      type: clob
#      extra: ckeditor
      notnull: false
    text:
      type: clob
      extra: ckeditor
      notnull: false
    is_active:
      type: boolean
      notnull: true
      default: true
    image:
      type: integer
    file:
      type: integer
    title_file:
      type: string(255)
  relations:
    Image:
      class: DmMedia
      local: image
      foreignAlias: Photos
      onDelete: Cascade
    Files:
      class:          DmMedia
      local:          file
      foreignAlias:   SidCabinetPageCabinet
      onDelete: Cascade

SidCabinetEquipe:
  actAs:
#    DmTaggable:
    DmSortable:
    I18n:
      fields: [ title, name, first_name, statut, tel, fax, mobile, email, text ]
      actAs:
        DmVersionable:
        Timestampable:
  columns:
    title:
      type: string(10)
      notnull: true
    name:
      type: string(255)
      notnull: true
    first_name:
      type: string(255)
      notnull: false
    statut:
      type: string(255)
      notnull: false
    tel:
      type: string(255)
      notnull: false
    fax:
      type: string(255)
      notnull: false
    mobile:
      type: string(255)
      notnull: false
    email:
      type: string(255)
      notnull: false
      email: true
    text:
      type: clob
      extra: ckeditor
      notnull: false
    image:
      type: integer
    coord_name_id:
      type: integer
      notnull: true
    is_active:
      type: boolean
      notnull: true
      default: false
  attributes:
    export: all
    validate: true
  relations:
    Image:
      class: DmMedia
      local: image
      foreignAlias: Photos
      onDelete: Cascade
    MRubriques:
      foreignAlias: SidRubrique
      class: SidRubrique
      refClass: SidCabinetEquipeSidRubrique
      onDelete: Cascade
    CoordName:
      class: SidCoordName
      local: coord_name_id
      foreign: id
      foreignAlias: SidCoordNames
      onDelete: Cascade
      
SidCabinetEquipeSidRubrique:
  columns:
    sid_cabinet_equipe_id:
      type:           integer 
    sid_rubrique_id:
      type:           integer
  relations:
    SidCabinetEquipe:
      onDelete:       Cascade
    SidRubrique:
      onDelete:       Cascade 
      

SidCabinetMission:
  actAs:
#    DmTaggable:
    DmSortable:
    I18n:
      fields: [ title, text, resume ]
      actAs:
        DmVersionable:
        Timestampable:
  columns:
    title:
      type: string(255)
      notnull: true
    resume:
      type: clob
      notnull: true
    text:
      type: clob
      extra: ckeditor
      notnull: true
#    on_home:
#      type: boolean
#      notnull: true
#      default: false
    is_active:
      type: boolean
      notnull: true
      default: true
    image:
      type: integer
    file:
      type: integer
    title_file:
      type: string(255)
  attributes:
    export: all
    validate: true
  relations:
    MRubriques:
      foreignAlias: SidRubrique
      class: SidRubrique
      refClass: SidCabinetMissionSidRubrique
      onDelete: Cascade
    Image:
      class: DmMedia
      local: image
      foreignAlias: Photos
      onDelete: Cascade
    Files:
      class:          DmMedia
      local:          file
      foreignAlias:   SidCabinetMission
      onDelete: Cascade
      
SidCabinetMissionSidRubrique:
  columns:
    sid_cabinet_mission_id:
      type:           integer 
    sid_rubrique_id:
      type:           integer
  relations:
    SidCabinetMission:
      onDelete:       Cascade
    SidRubrique:
      onDelete:       Cascade
      
SidCabinetRecrutement:
  actAs:
    DmSortable:
    I18n:
      fields: [ title, text ]
      actAs:
        DmVersionable:
        Timestampable:
  columns:
    title:
      type: string(255)
      notnull: true
    text:
      type: clob
      extra: ckeditor
      notnull: true
    is_active:
      type: boolean
      notnull: true
      default: true
#    on_home:
#      type: boolean
#      notnull: true
#      default: false
    image:
      type: integer
    file:
      type: integer
    title_file:
      type: string(255)
  relations:
    Image:
      class: DmMedia
      local: image
      foreignAlias: Photos
      onDelete: Cascade
    Files:
      class:          DmMedia
      local:          file
      foreignAlias:   SidCabinetRecrutement
      onDelete: Cascade