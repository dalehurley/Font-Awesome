// _GridLayout.less
// v1.3
// Last Updated : 2012-02-01 14:20
// Copyright : SID Presse
// Author : Arnaud GAUDIN

//Fonction rassemblant tous les utilitaires du système de grille, à insérer uniquement en cas de besoins

//CONFIGURATION GÉNÉRALE DU LAYOUT
@gridAutoLayout(@resolution: @gridScreen; @nbreCols: @gridCol; @nbreCols_SidebarLeft: @gridCol_SidebarLeft; @nbreCols_SidebarRight: @gridCol_SidebarRight) {
	//recalcul des valeurs nécessaires à la mise en page du site
	@getGridWidth_Site: @gridColWidth * @nbreCols + @gridGutter * (@nbreCols -1);
	@getGridWidth_SidebarLeft: @gridColWidth * @nbreCols_SidebarLeft + @gridGutter * (@nbreCols_SidebarLeft -1);
	@getGridWidth_SidebarRight: @gridColWidth * @nbreCols_SidebarRight + @gridGutter * (@nbreCols_SidebarRight -1);
	@getGridPadding: (@resolution - @getGridWidth_Site) / 2;
	
	//CONFIGURATION ZONE DE CONTENU EN FONCTION DE LA PRÉSENCE DES SIDEBARS
	#dm_page_content,
	.dm_sdbc_none #dm_page_content {
		float: left;
		width: @getGridWidth_Site;
		margin-left: 0;
		margin-right: @getGridWidth_Site * -1;
	}
	
	.dm_sdbc_left #dm_page_content {
		width: @getGridWidth_Site - @getGridWidth_SidebarLeft - @gridGutter;
		margin-left: @getGridWidth_SidebarLeft + @gridGutter;
		margin-right: @getGridWidth_Site * -1;
	}
	
	.dm_sdbc_right #dm_page_content {
		width: @getGridWidth_Site - @getGridWidth_SidebarRight - @gridGutter;
		margin-left: 0;
		margin-right: (@getGridWidth_Site - @getGridWidth_SidebarRight - @gridGutter) * -1;
	}
	
	.dm_sdbc_two #dm_page_content {
		width: @getGridWidth_Site - @getGridWidth_SidebarLeft - @getGridWidth_SidebarRight - @gridGutter * 2;
		margin-left: @getGridWidth_SidebarLeft + @gridGutter;
		margin-right: (@getGridWidth_Site - @getGridWidth_SidebarRight - @gridGutter) * -1;
	}

	/*//Placement avec toutes les sidebars présentes dans la scène
	#dm_page_content{
		float: left;
		width: @getGridWidth_Site - @getGridWidth_SidebarLeft - @getGridWidth_SidebarRight - @gridGutter * 2;
		margin-left: @getGridWidth_SidebarLeft + @gridGutter;
		margin-right: (@getGridWidth_Site - @getGridWidth_SidebarRight - @gridGutter) * -1;
	}*/
	
	//PLACEMENT SIDEBARS
	#dm_sidebar_left {
		width: @getGridWidth_SidebarLeft;
		margin-left: 0;
		margin-right: @getGridWidth_SidebarLeft * -1;
	}
	
	#dm_sidebar_right {
		width: @getGridWidth_SidebarRight;
		margin-left: @getGridWidth_Site - @getGridWidth_SidebarRight;
		margin-right: @getGridWidth_Site * -1;
	}
}

//Fonction de mise en page automatique en mode portrait
@gridAutoLayoutPortrait(@resolution: @gridScreen; @nbreCols: @gridCol; @nbreCols_SidebarLeft: @gridCol_SidebarLeft; @nbreCols_SidebarRight: @gridCol_SidebarRight) {
	//recalcul des valeurs nécessaires à la mise en page du site
	@getGridWidth_Site: @gridColWidth * @nbreCols + @gridGutter * (@nbreCols -1);
	@getGridWidth_SidebarLeft: @gridColWidth * @nbreCols_SidebarLeft + @gridGutter * (@nbreCols_SidebarLeft -1);
	@getGridWidth_SidebarRight: @gridColWidth * @nbreCols_SidebarRight + @gridGutter * (@nbreCols_SidebarRight -1);
	@getGridPadding: (@resolution - @getGridWidth_Site) / 2;

	//on ne déplace que la dm_sdbc_right donc on réorganise le contenu que si celle-ci est présente dans la page
	.dm_sdbc_right #dm_page_content {
		width: @getGridWidth_Site;
		margin-left: 0;
		margin-right: @getGridWidth_Site * -1;
	}

	.dm_sdbc_two #dm_page_content {
		width: @getGridWidth_Site - @getGridWidth_SidebarLeft - @gridGutter;
		margin-left: @getGridWidth_SidebarLeft + @gridGutter;
		margin-right: @getGridWidth_Site * -1;
	}

	/*//Placement avec toutes les sidebars présentes dans la scène
	#dm_page_content {
		width: @getGridWidth_Site - @getGridWidth_SidebarLeft - @gridGutter;
		margin-left: @getGridWidth_SidebarLeft + @gridGutter;
		margin-right: @getGridWidth_Site * -1;
	}*/
	
	//PLACEMENT SIDEBARS
	//placement de la sidebarRight en dessous du contenu
	#dm_sidebar_right {
		clear: both;
		width: @getGridWidth_Site;
		margin-left: 0;
		margin-right: 0;
	}
	
	.dm_sdbc_two #dm_sidebar_right {
		width: @getGridWidth_Site - @getGridWidth_SidebarLeft - @gridGutter;
		margin-left: @getGridWidth_SidebarLeft + @gridGutter;
	}

	/*//Placement avec toutes les sidebars présentes dans la scène
	#dm_sidebar_right {
		clear: both;
		width: @getGridWidth_Site - @getGridWidth_SidebarLeft - @gridGutter;
		margin-left: @getGridWidth_SidebarLeft + @gridGutter;
		margin-right: 0;
	}*/
}