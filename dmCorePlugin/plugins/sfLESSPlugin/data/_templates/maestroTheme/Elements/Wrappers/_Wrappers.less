// _Wrappers.less
// v1.3
// Last Updated : 2012-03-28 17:40
// Copyright : SID Presse
// Author : Arnaud GAUDIN
//container utilisé pour contenir les éléments de navigation de la page ou du widget
.navigationWrapper {
	//changement taille et apparence liens
	.link { color: @colorCouleur3Fonce; text-transform: uppercase; }
	
	//suppression bordures
	.elements {
		margin-top: 0;
		margin-bottom: 0;
		.element {
			font-size: @fontSizeMicro;
			line-height: @gridBaseline;
			vertical-align: top;
			//suppression bordures
			padding: 0;
			border-bottom: 0;
			//couleur de fond uniquement dans les sidebars
			// #dm_sidebar_left &,
			// #dm_sidebar_right & { &, &:hover { background-color: inherit; } }
			&:hover { background-color: inherit; }
			&.last{ padding-bottom: 0; }
		}
	}
}

//container utilisé pour contenir les éléments de navigation de la page ou du widget
.navigationTop { margin-bottom: @gridBaseline/2; }
.navigationBottom {
	margin-top: @gridBaseline/2;
	//lorsque précédé d'un listing
	.elements + & { margin-top: 0; }
}

//pager (numéroration des pages)
.pager {
	ul {
		.page {
			margin: 0 @offS;

			//placement du lien
			.link {
				//ajout des transitions pour navigateurs récents
				.csstransitions & {
					@transition(background-color, color; .2s; ease-in-out; 0s);
				}

				display: block;
				font-size: @fontSizeSmall;
				text-decoration: none;
				outline: 0;
				padding: (@gridBaseline/4 -1px) (@gridGutter/2 -1px);

				background-color: @colorCouleur3ClairSup;
				border: 1px solid @colorZoneBorder;
				color: @colorCouleur3Fonce;

				//LoVe's Hurts Fade Away
				&:hover, &:focus { color: @colorCouleur3FonceSup; background-color: @colorCouleur3Clair; }
				&:active { color: @colorCouleur1; }
			}

			//page courante
			&.current {
				.link {
					font-weight: bold;
					border: 0;
					padding: @gridBaseline/4 @gridGutter/2;
					&, &:hover, &:focus { color: @colorCouleur3ClairSup; background-color: @colorCouleur1; }
				}
			}

			//configuration de base pour les sprites
			&.prev, &.next, &.first, &.last {
				//déplacement du style vers le li
				background-color: @colorCouleur3ClairSup;
				border: 1px solid @colorZoneBorder;
				&:hover { background-color: @colorCouleur3Clair; }
				//ajout des transitions pour navigateurs récents
				.csstransitions & {
					@transitionCompress(background-color; .2s; ease-in-out; 0s);
				}

				//décalage de marge (on enlève 1px pour la bordure)
				@decalV: (@gridBaseline - @spriteFormat_S)/2;
				padding: (@decalV + @gridBaseline/4 -1px) (@gridGutter/4 -1px);

				.link {
					//suppression texte et animation du fond
					text-indent:-9999em;
					&, &:hover, &:focus { background-color: transparent; }
					border: 0;
					padding: 0;
					@transitionNone();
					//initialisation de la sprite
					@spriteDimension(@spriteFormat_S);
					@spriteBgi("Default"; "S");
				}
			}

			//appel des sprites sur les éléments de navigation
			&.prev {
				.link {
					@spriteBgiSvg("Default"; "navigation"; "arrowDarkLeft");
					@spriteBgp(@spriteFormat_S; @spriteOffX-navigation-arrowDarkLeft; @spriteOffY-navigation-arrowDarkLeft);
				}
			}

			&.next {
				.link {
					@spriteBgiSvg("Default"; "navigation"; "arrowDarkRight");
					@spriteBgp(@spriteFormat_S; @spriteOffX-navigation-arrowDarkRight; @spriteOffY-navigation-arrowDarkRight);
				}
			}

			&.first {
				margin-left: 0;
				.link {
					@spriteBgiSvg("Default"; "internet"; "back");
					@spriteBgp(@spriteFormat_S; @spriteOffX-internet-back; @spriteOffY-internet-back);
				}
			}

			&.last {
				margin-right: 0;
				.link {
					@spriteBgiSvg("Default"; "internet"; "forward");
					@spriteBgp(@spriteFormat_S; @spriteOffX-internet-forward; @spriteOffY-internet-forward);
				}
			}
		}
	}

}

//container utitlisé pour contenir les fichiers liés à un article
.fileWrapper {
	background-color: @colorCouleur3Clair;
	border: 1px solid @colorZoneBorder;
	padding: (@gridBaseline/2 -1px) (@gridGutter/2 -1px);
	margin: 0 @gridColWidth + @gridGutter;
	//changement couleur de titre
	.title { color: @colorCouleur3Fonce; }
	
	//décalage de marge
	@decalV: (@gridBaseline*2 - @spriteFormat_M) / 2;
	@decalH: (@gridColWidth - @spriteFormat_M) / 2;
	
	.generatedcontent & {
		min-height: @spriteFormat_M + @decalV*2;
		padding-left: @spriteFormat_M + @decalH*2 + @gridGutter/2;
	}
	
	&:before {
		.isLess & { background-color: #ED5583; }
		position: absolute;
		display: block;
		float: left;
		content: "";
		top: 0;
		left: 0;
		margin: (@decalV + @gridBaseline/2) @decalH;
		//chargement sprite entière avec dimension et SVG
		@spriteDefinition("Default"; "explorer"; "file"; "M"; @spriteFormat_M; @spriteOffX-explorer-file; @spriteOffY-explorer-file);
	}
}

//container situés directement dans un widget en enblobant plusieurs sous-contenus
.supWrapper {
	.elements {
		.element {
			//suppression transition
			.csstransitions & {
				@transitionNone();
			}
			&:hover { background-color: transparent; }
			
			padding-bottom: @gridBaseline - 1px;
			border-bottom: 1px solid @colorZoneBorder;
			&.last { border: 0; padding-bottom: 0; }
		}
	}
	margin-bottom: @gridBaseline;
	padding-bottom: (@gridBaseline - 1px);
	//gestion bordure du wrapper
	border-bottom: 1px solid @colorZoneBorder;
	&.last { border: 0; padding-bottom: 0; }
}

//container situé dans un sous élément (par exemple un listing)
.subWrapper {
	.elements .element & {
		//positionnement élément en ligne dans zone spécifique
		#dm_custom_bottom & .itemprop { display: inline; vertical-align: top; }
	}
}

//container de l'image en pleine largeur (utilisé dans l'affichage d'un article)
.imageFullWrapper {
	#dm_page_content .contentHeader & { margin-bottom: @gridBaseline/2; }
}

//container de l'image
.imageWrapper {
	// //on supprime le décalage lorsque situé dans un listing
	// .elements .element & { margin-right: @zonesOffsetPad * -1; }
	// #dm_sidebar_left .elements .element &,
	// #dm_sidebar_right .elements .element & {
	// 	margin-left: @zonesOffsetPad * -1;
	// }
}

//listings d'éléments diverses (article, personnes, organisations, etc) et résultats de recherche
.elements, .search_results {
	// margin: 0 (@zonesOffsetPad*-1);
	margin: 0;
}

.elements .element,
.search_results .search_result {
	//ajout transition navigateurs modernes
	.csstransitions & {
		@transitionCompress(background-color; .5s);
	}
	
	//couleur de fond uniquement dans les sidebars
	// #dm_sidebar_left &,
	// #dm_sidebar_right & {
	// 	background-color: @colorCouleur3Clair;
	// 	&:hover { background-color: @colorCouleur3ClairSup; }
	// }
	&:hover {
		background-color: @colorCouleur3ClairSup;
		.rgba & { background-color: fadeout(@colorCouleur3ClairSup, 20%); }
	}

	padding: @gridBaseline/2 0 (@gridBaseline/2 -1px) 0;
	border-bottom: 1px dashed @colorZoneBorder;

	//suppression bordure et padding pour dernier élément
	&.last { padding-bottom: @gridBaseline/2; border-bottom: 0; }
}

//résultats de recherche
.search_results {
	//débuggage car classe appliquée également à un widget
	&.dm_widget {
		margin-left: inherit;
		margin-right: inherit;
	}

	.search_result {

		//stylage par défaut du compteur
		&:before {
			color: @colorCouleur1;
			font-weight: bold;
		}

		//probabilité de correspondance
		.score {
			font-size: @fontSizeMicro;
			color: @colorCouleur3;
			//on impose une largeur fixe pour garder un alignement des titres de résultats
			width: 3em;
			margin-right: @offM;
			text-align: right;
		}
	}
}