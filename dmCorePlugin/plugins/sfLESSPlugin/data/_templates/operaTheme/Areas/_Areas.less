// _Areas.less
// v1.1
// Last Updated : 2012-01-18 11:00
// Copyright : SID Presse
// Author : Arnaud GAUDIN

//COULEURS DE DEBUG (affichée en mode /less.php)
.isLess {
	#dm_page { background-color: #aaa; }
	#dm_main { background-color: #bbb; }
	#dm_main_inner { background-color: #ccc; }
	
	#dm_header > .dm_zones { background-color: fadeout(#8ccccb, 50%); }
	// #dm_footer > .dm_zones { background-color: #c8ccbc; }
	#dm_sidebar_left > .dm_zones { background-color: #ccccb8; }
	//#dm_sidebar_right > .dm_zones { background-color: #b8ccb8; }
	//#dm_page_content > .dm_zones { background-color: #b8cccc; }
	//#dm_custom_top > .dm_zones { background-color: #ccccb8; }
	#dm_custom_bottom > .dm_zones { background-color: #ccb8cc; }
}

//couleur de fond de la page
#dm_main, #dm_main_inner { background-color: @colorWhite; }

//couleur de la zone située sous le header jusqu'en bas
#dm_main {
	z-index: 1;
	&:before {
		position: relative;
		display: block;
		z-index: -10;
		content: "";
		@gridSiteWidth();
		@gridHeight(30);
		//on force la hauteur de l'élément et on la soustrait en margin-bottom négatif par la suite
		margin-left: auto;
		margin-right: auto;
		margin-bottom: (@gridBaseline * -30);
		//ombre répétée dans WidgetBase sur le dm_zones:before de dm_layout_centerTopTop
		@boxShadow(0 0 (@gridGutter*4) @colorCouleur3Fonce);
	}
}

//débordement externes des différentes zones de la page
#dm_page_content, #dm_sidebar_left, #dm_sidebar_right, #dm_custom_top, #dm_custom_bottom {
	//meilleure gestion uniformisée des bordures
	.dm_zones { margin: 0 (@zonesOffsetPad * -1) 0 (@zonesOffsetPad * -1); }
}

//stylage du header
#dm_header {
	//hauteur minimale pour l'image par défaut du header (à désactiver au besoin dans les sites clients)
	@gridHeight(@headerHeight_bl);
	background-color: @headerBgColor;
	background-image: url(@{headerBgImageUrl});
	background-repeat: no-repeat;
	background-position: 50% bottom;

	.dm_zones {
		position: relative;
		@gridSiteWidth();
		margin-left: auto;
		margin-right: auto;
		padding: @gridBaseline 0;
		//on réapplique la hauteur minimale pour le placement des icônes en bas à droite (on soustrait le padding)
		&, #dm_page.edit & { @gridMinHeight(@headerHeight_bl; (@gridBaseline*2)); }
	}
}

//stylage de la zone sous le header
#dm_custom_top {
	.dm_zones {
		background-color: @colorCouleur2;
		padding-top: @gridBaseline/2;
		min-height: @gridBaseline;
	}
}

//stylage du footer
#dm_footer {
	background-color: @colorCouleur3Clair;
	padding: 0;

	.dm_zones {
		@gridSiteWidth();
		margin-left: auto;
		margin-right: auto;
	}
	
	//widgets situés dans le footer
	.content_text {
		.isLess & { background-color: #B6E0D1; }
		position: relative;
		&, .link { color: @colorCouleur3Fonce; }
		.link { text-decoration: none; &:hover { text-decoration: underline; } }
		float: right;
		&, .text_content p {
			font-size: @fontSizeMicro;
			line-height: @gridBaseline;
			margin: 0;
		}
	}
	.content_link {
		.isLess & { background-color: #E0B6D1; }
		position: relative;
		&, .link {
			color: @colorCouleur3;
			text-decoration: none;
			&:hover { text-decoration: underline; }
		}
		font-size: @fontSizeMicro;
		line-height: @gridBaseline;
		text-transform: uppercase;
		float: left;
		margin-right: @offM;
		//ajout de la sprite sur l'élément
		padding-right: @spriteFormat_S;
		&:after {
			position: absolute;
			display: block;
			//décalage de marge
			@decalV: (@gridBaseline - @spriteFormat_S) / 2;
			top: @decalV;
			right: 0;
			content: "";
			//appel de la sprite
			@spriteDefinition("Default"; "navigation"; "arrowColorDown"; "S"; @spriteFormat_S; @spriteOffX-navigation-arrowColorDown; @spriteOffY-navigation-arrowColorDown);
		}
	}
}

//gestion des paddings et des marges des sidebars et du contenu
#dm_page_content {
	.isLess & { background-color: #b8cccc; }

	.dm_zones {
		.isLess & { background-color: #8A9999; }
		padding: 0 @zonesOffsetPad;
		//on rajoute la bordure à droite uniquement en présence de la sidebarRight
		.dm_sdbc_right &, .dm_sdbc_two & {
			padding-right: (@zonesOffsetPad -1px);
			border-right: 1px dotted @colorZoneBorder;
		}
	}
}

#dm_sidebar_left, #dm_sidebar_right {
	.isLess & { background-color: #b8ccb8; }
	
	.dm_zones {
		.isLess & { background-color: #8A998A; }
		padding: 0 @zonesOffsetPad;
	}
}