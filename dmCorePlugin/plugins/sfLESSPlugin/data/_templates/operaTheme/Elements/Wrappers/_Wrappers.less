// _Wrappers.less
// v1.1
// Last Updated : 2012-01-18 11:00
// Copyright : SID Presse
// Author : Arnaud GAUDIN

//container utilisé pour contenir les éléments de navigation de la page ou du widget
.navigationWrapper {
	//changement taille et apparence liens
	.link { color: @colorCouleur3Fonce; text-transform: uppercase; }
	
	//suppression bordures
	.elements {
		margin-top: 0;
		margin-bottom: 0;
		.element {
			font-size: @fontSizeMicro;
			line-height: @gridBaseline;
			vertical-align: top;
			//suppression bordures
			padding: 0;
			border-bottom: 0;
			//couleur de fond uniquement dans les sidebars
			// #dm_sidebar_left &,
			// #dm_sidebar_right & { &, &:hover { background-color: inherit; } }
			&:hover { background-color: inherit; }
			&.last{ padding-bottom: 0; }
		}
	}
}

//container utilisé pour contenir les éléments de navigation de la page ou du widget
.navigationTop { margin-bottom: @gridBaseline/2; }
.navigationBottom {
	margin-top: @gridBaseline/2;
	//lorsque précédé d'un listing
	.elements + & { margin-top: 0; }
}

//container utitlisé pour contenir les fichiers liés à un article
.fileWrapper {
	background-color: @colorCouleur3Clair;
	border: 1px solid @zonesBorderColor;
	padding: (@gridBaseline/2 -1px) (@gridGutter/2 -1px);
	margin: 0 @gridColWidth + @gridGutter;
	//changement couleur de titre
	.title { color: @colorCouleur3Fonce; }
	
	//décalage de marge
	@decalV: (@gridBaseline*2 - @spriteFormat_M) / 2;
	@decalH: (@gridColWidth - @spriteFormat_M) / 2;
	
	.generatedcontent & {
		min-height: @spriteFormat_M + @decalV*2;
		padding-left: @spriteFormat_M + @decalH*2 + @gridGutter/2;
	}
	
	&:before {
		.isLess & { background-color: #ED5583; }
		position: absolute;
		display: block;
		float: left;
		content: "";
		top: 0;
		left: 0;
		margin: (@decalV + @gridBaseline/2) @decalH;
		//chargement sprite entière avec dimension et SVG
		@spriteDefinition("Default"; "explorer"; "file"; "M"; @spriteFormat_M; @spriteOffX-explorer-file; @spriteOffY-explorer-file);
	}
}

//container situés directement dans un widget en enblobant plusieurs sous-contenus
.supWrapper {
	.elements {
		.element {
			//suppression transition
			.csstransitions & {
				@transitionNone();
			}
			&:hover { background-color: transparent; }
			
			padding-bottom: @gridBaseline - 1px;
			border-bottom: 1px solid @zonesBorderColor;
			&.last { border: 0; padding-bottom: 0; }
		}
	}
	margin-bottom: @gridBaseline;
	padding-bottom: (@gridBaseline - 1px);
	//gestion bordure du wrapper
	border-bottom: 1px solid @zonesBorderColor;
	&.last { border: 0; padding-bottom: 0; }
}

//container situé dans un sous élément (par exemple un listing)
.subWrapper {
	.elements .element & {
		//positionnement élément en ligne dans zone spécifique
		#dm_custom_bottom & .itemprop { display: inline; vertical-align: top; }
	}
}

//container de l'image en pleine largeur (utilisé dans l'affichage d'un article)
.imageFullWrapper {
	#dm_page_content .contentHeader & { margin-bottom: @gridBaseline/2; }
}

//container de l'image
.imageWrapper {
	// //on supprime le décalage lorsque situé dans un listing
	// .elements .element & { margin-right: @zonesOffsetPad * -1; }
	// #dm_sidebar_left .elements .element &,
	// #dm_sidebar_right .elements .element & {
	// 	margin-left: @zonesOffsetPad * -1;
	// }
}

//listings d'éléments diverses (article, personnes, organisations, etc)
.elements {
	// margin: 0 (@zonesOffsetPad*-1);
	margin: 0;

	.element {
		//ajout transition navigateurs modernes
		.csstransitions & {
			@transitionCompress(background-color; .5s);
		}
		
		//couleur de fond uniquement dans les sidebars
		// #dm_sidebar_left &,
		// #dm_sidebar_right & {
		// 	background-color: @colorCouleur3Clair;
		// 	&:hover { background-color: @colorCouleur3ClairSup; }
		// }
		&:hover { background-color: @colorCouleur3ClairSup; }

		padding: @gridBaseline/2 0 (@gridBaseline/2 -1px) 0;
		border-bottom: 1px dashed @zonesBorderColor;

		//suppression bordure et padding pour dernier élément
		&.last { padding-bottom: @gridBaseline/2; border-bottom: 0; }
	}
}






// //TEMPORAIRE : DÉFINITION DES DIMENSIONS DIRECTEMENT EN CSS EN ATTENDANT IMPLÉMENTATION HAUTEUR PROPREMENT DANS LES WIDGETS
// .imageFullWrapper {
// 	.isLess & {
// 		background-color: #B550A9;
// 	}
	
// 	.image {
// 		.isLess & { 
// 			background-color: #6150B5;
// 			position: absolute;
// 		}
		
// 		//débug de dimensions sur certains widgets biens précis de la base éditoriale
// 		.isLess #dm_page_content & {
// 			@gridWidth(@thumbContent_col);
// 			@gridHeight(@thumbContent_bl);
// 		}
// 	}

// 	//application dimensions en dur
// 	.isLess #dm_page_content & {
// 		@gridWidth(@thumbContent_col);
// 		@gridHeight(@thumbContent_bl);
// 	}
// }

// .imageWrapper {
// 	//dans les listings de contenu
// 	.elements .element & {
// 		.isLess & {
// 			background-color: #B550A9;
// 			//on remet le décalage  à l'extérieur du container car l'image est positionnée en absolute
// 			margin-left: @gridGutter;
// 		}

// 		//application dimensions en dur
// 		.isLess #dm_page_content & {
// 			@gridWidth(@thumbL_col);
// 			@gridHeight(@thumbL_bl);
// 		}

// 		.isLess #dm_sidebar_right & {
// 			@gridWidth(@thumbSidebarRight_col);
// 			@gridHeight(@thumbSidebarRight_bl);
// 		}

// 		//partie équipe
// 		.isLess #dm_page_content .equipe_cabinet_equipe_show & {
// 			@gridWidth(@thumbM_col);
// 			@gridHeight(@thumbM_bl*2);
// 			margin-left: 0;
// 			margin-right: @gridGutter;
// 		}
// 		.isLess #dm_sidebar_right .equipe_cabinet_equipes_contextuel & {
// 			@gridWidth(@thumbS_col);
// 			@gridHeight(@thumbS_bl);
// 		}
		
// 		//replacement de l'image
// 		.image {
// 			.isLess & {
// 				background-color: #6150B5;
// 				position: absolute;
// 				float: none;
// 				margin: 0;
// 				right: 0;
// 			}
			
// 			//valeur arbitraire de replacement car on ne connait par forcément la hauteur de l'image
// 			//#dm_page_content &, #dm_sidebar_right & { top: 50%; margin-top: -50%; }

// 			//débug de dimensions sur certains widgets biens précis de la base éditoriale
// 			.isLess #dm_page_content .article_list_by_section &,
// 			.isLess #dm_sidebar_right .specifiques_base_editoriale_fil_actualite & {
// 				@gridWidth(@thumbSidebarRight_col);
// 				@gridHeight(@thumbSidebarRight_bl);
// 			}
// 		}
// 	}
// }