//_SpritesUtils.less
// v1.1
// Last Updated : 2012-02-01 14:25
// Copyright : SID Presse
// Author : Arnaud GAUDIN


//fonction spécifique d'ajout de sprite au titre de widget (utilisé avec BaseTheme, à déplacer dans ce dernier ou à rendre universel)
//utiliser avec un complément du type :
//.dm_widget_inner {
//	& > .title:after { @spriteBgp(@spriteFormat_S; @spriteOffX-communication-telephone; @spriteOffY-communication-telephone); }
//}
@widgetTitleSprite(@theme: "Default"; @category; @name) {
	//ciblage du titre du widget
	& .dm_widget_inner > .title {
		//que si l'élément :after est géré (éviter un mélange avec .svg), on rajoute de l'espace à gauche pour caler la sprite
		.generatedcontent & { padding-left: (@spriteFormat_M + @zonesOffsetPad -1px + @offS); }
		
		&:after {
			position: absolute;
			display: block;
			//décalage de marge
			@decalV: (@gridBaseline + (@gridBaseline/2) * 2 - @spriteFormat_M) / 2;
			top: @decalV;
			left: @offS;
			content: "";
			//appel différenciées des fonctions de sprite (appeler @spriteBgp dans le widget)
			@spriteDimension(@spriteFormat_M);
			@spriteBgi(@theme; "M");
			@spriteBgiSvg(@theme; @category; @name);
		}
	}
}

//Arrondi de la sprite avec couleur de fond blanc pour le contour
@widgetTitleSpriteRound() {
	//ciblage du titre du widget
	& .dm_widget_inner > .title {
		//changement couleur du texte
		color: @colorCouleur2;
		
		//que si l'élément :after est géré
		.generatedcontent & {
			//suppression padding inférieur pour superposition avec contenu en dessous
			padding-bottom: 0;
			//pour forcer le passage par devant
			z-index: 10;
		}

		&:after {
			background-color: @colorWhite;
			@borderRadiusCompress(@spriteFormat_M);
		}
	}
}