// _WidgetsBase.less
// v1.0
// Last Updated : 2011-09-14 15:10
// Copyright : SID Presse
// Author : Arnaud GAUDIN

//Ce fichier permet d'initialiser un style par défaut pour tous les widgets et n'est inclu qu'une seule fois dans le template

//EN ATTENDANT OPTIMISATION GÉNÉRALE DU FRAMEWORK : inclusion des widgets ne nécessitant pas d'appels médias séparés
@import "_templates/operaTheme/Widgets/ActusDuCabinetActuArticlesContextuel/_ActusDuCabinetActuArticlesContextuel.less";
@import "_templates/operaTheme/Widgets/EquipeCabinetEquipesContextuel/_EquipeCabinetEquipesContextuel.less";
@import "_templates/operaTheme/Widgets/MissionsMissionsContextuel/_MissionsMissionsContextuel.less";
@import "_templates/operaTheme/Widgets/SpecifiquesBaseEditorialeArticlesBySectionContextuel/_SpecifiquesBaseEditorialeArticlesBySectionContextuel.less";
@import "_templates/operaTheme/Widgets/SpecifiquesBaseEditorialeFilActualite/_SpecifiquesBaseEditorialeFilActualite.less";
@import "_templates/operaTheme/Widgets/SpecifiquesBaseEditorialeListAgenda/_SpecifiquesBaseEditorialeListAgenda.less";

//couleurs de débug dans les zones de contenu uniquement
.isLess {
	#dm_sidebar_left, #dm_sidebar_right, #dm_page_content {
		.dm_widget {
			background-color: fadeout(#DCDAE6, 50%);
			.dm_widget_inner { background-color: fadeout(#D2CFE6, 50%); }
		}
	}
}

//STYLAGE GÉNÉRAL DES WIDGETS DANS LES ZONES DU SITE
.dm_widget {
	.dm_widget_inner {
		//changement taille du titre des widgets
		& > .title {
			position: relative;
			#dm_page_content & {
				font-size: @fontSizeH4Px;
				line-height: @gridBaseline;
			}
		}
	}
}

//placement des widgets dans le header
#dm_header {
	
	.dm_widget.content_image {
		.isLess & { background-color: fadeout(#D6B8C4, 50%); }
		float: left;

		//suppression du float en mode édition
		#dm_page.edit & { float: none; }
	}
	
	.dm_widget.content_ck_editor {
		.isLess & { background-color: fadeout(#B8D6C1, 50%); }
		float: left;
		margin-left: @offM;

		//suppression du float et de la marge gauche en mode édition
		#dm_page.edit & { float: none; margin-left: 0; }
		
		.dm_widget_inner {
			color: @headerTextColor;
			font-family: @fontGlobalFamilyWebFont;
			text-transform: uppercase;
			word-spacing: 0.125em;
			letter-spacing: 0.125em;
			padding-top: @gridBaseline/2;
			padding-bottom: @gridBaseline/2;
			
			//stylage des élements de titrage
			.dm_site_title, .dm_site_slogan { margin: 0; padding: 0; }
			.dm_site_title {
				.isLess & { background-color: fadeout(#B6BFB9, 50%); }
				font-weight: bold;
				padding-bottom: @gridBaseline/2;
			}
			.dm_site_slogan {
				.isLess & { background-color: fadeout(#ACBFB2, 50%); }
				padding-top: (@gridBaseline/2 -1px);
				border-top: 1px solid @headerTextColor;
			}
		}
	}
}

//stylage par défaut des widgets dans les zones principales
#dm_page_content, #dm_sidebar_left, #dm_sidebar_right {
	.dm_widget {
		margin-bottom: @gridBaseline;
		
		.dm_widget_inner {
			padding: (@gridBaseline/2) 0;
			//suppression bordures sous niveaux
			.dm_widget { margin-bottom: 0; .dm_widget_inner { padding: 0; } }

			& > .title {
				background-color: @widgetTitleBgColor;
				color: @widgetTitleTextColor;
				text-transform: uppercase;
				font-family: @fontGlobalFamilySansSerif;
				font-weight: normal;
				// margin: (@gridBaseline/-2) (@zonesOffsetPad*-1) (@gridBaseline/2) (@zonesOffsetPad*-1);
				margin: (@gridBaseline/-2) 0 (@gridBaseline/2) 0;
				padding: @gridBaseline/4 0;
				//on supprime le décalage du listing suivant pour avoir la superposition de la sprite
				& + .elements {
					margin-top: @gridBaseline/-2;
					.element.first { padding-top: 0; }
				}
			}
		}
	}
}

//ajout d'une bordure pour les widgets du contenu
#dm_page_content {
	.dm_widget {
		.dm_widget_inner {
			padding-bottom: (@gridBaseline -1px);
			//ajout d'une bordure dont l'épaisseur a été déduite
			border-bottom: 1px dotted @colorZoneBorder;
		}

		//on la supprime pour le dernier
		&:last-child .dm_widget_inner {
			padding-bottom: (@gridBaseline/2);
			border-bottom: 0;
		}
	}
	
}

//ajout bordure sous le titre dans les sidebars
#dm_sidebar_left, #dm_sidebar_right {
	.dm_widget {
		.dm_widget_inner {
			& > .title {
				padding-bottom: (@gridBaseline/4 -1px);
				border-bottom: 1px solid @colorZoneBorder;
			}
		}
	}
}