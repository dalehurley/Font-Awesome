// AdressesMultiples.less
// v1.4.5
// Last Updated : 2012-07-03 15:40
// Copyright : SID Presse
// Author : Arnaud GAUDIN

//Config par défaut des widgets du template
@import "_templates/operaTheme/Widgets/_Widgets.less";

//OPTIMISATION : n'inclure que les utilitaires réellement utilisés dans ce widget (cf dossiers Utilities)
@import "_framework/SPLessCss/Utilities/Css3/_Css3Gradient.less";
@import "_framework/SPLessCss/Utilities/Css3/_Css3Transition.less";
@import "_framework/SPLessCss/Utilities/Grids/_GridsUtils.less";
@import "_framework/SPLessCss/Utilities/Sprites/_SpritesUtils.less";

//AdressesMultiples
.dm_widget.adresses_multiples {
	position: relative;
	display: block;
	clear: both;
	//permet d'étendre la zone en débordement de la page
	margin-left: -100%;
	margin-right: -100%;
	background-color: @bottomBgColor;
	@verticalGradient(@bottomBgColorClair; @bottomBgColorFonce);

	.dm_widget_inner {
		.isLess & { background-color: fadeout(#DECA8E, 50%); }
		//gestion du fond
		background-color: @bottomCenterBgColor;
		@verticalGradient(@bottomCenterBgColorClair; @bottomCenterBgColorFonce);

		position: relative;
		//largeur du site avec les débordements pris en compte
		@gridSiteWidth(@gridScreen; @gridCol; @gridPadding);
		margin-left: auto;
		margin-right: auto;
	}

	&, .link { color: @bottomTextColor; }
	.link { text-decoration: none; &:hover { text-decoration: underline; } }
	
	.elements {
		.isLess & { background-color: fadeout(#9BD0D1, 25%); }
		.element {
			.isLess & { background-color: fadeout(#AD88BA, 25%); }

			//couleurs de débugs pour les itemprops de premiers niveaux
			.isLess & > * {
				&:nth-of-type(odd) { background-color: #EBBEBE; }
				&:nth-of-type(even) { background-color: #EBDDBE; }
			}

			//suppression transition
			.csstransitions & {
				@transitionNone();
			}
			&:hover { background-color: transparent; }

			//suppression bordure et padding
			padding: 0;
			border: 0;
			
			//changement taille de police (avec override du titre de l'adresse )
			&, .name {
				font-size: @fontSizeSmall;
				line-height: @gridBaseline;
			}

			//mise en ligne de tous les éléments
			.subWrapper, .itemscope, .itemprop { display: inline; vertical-align: top; }
		}
	}

	//suppression sprites par défaut
	&, .email, .telephone, .cellphone, .faxNumber {
		.type {
			//suppression sprites par défaut
			@spriteDelete();
			text-indent: inherit;
			padding: inherit;
			margin: inherit;
		}
	}

	//ajout des tirets en pseudo élément
	.itemprop:before, .subWrapper:before {
		display: inline;
		color: @bottomTextColor;
		content: " - ";
		font-weight: normal;
		//pour forcer la coupure au niveau du tiret si nécessaire
		white-space: normal;
	}
	
	//masquage des tirets en trop
	.itemprop.name,
	.subWrapper .itemprop {
		&:before { display: none; visibility: hidden; }
	}

	//suppression coupure du mot à l'intérieur des itemprops
	.subWrapper, .itemprop.email, .itemprop.telephone, .itemprop.cellphone, .itemprop.faxNumber { white-space: nowrap; }

	.itemprop {
		//on rajoute juste une marge à droite pour les navigateurs ne gérant pas les pseudo éléments
		.no-generatedcontent & { margin-right: @offS; }

		//mise en couleur du nom
		&.name { color: @bottomTextColor; }

		//suppression des labels et des séparators par défaut
		.type, .separator { display: none; visibility: hidden; margin: 0; }

		//rajout des labels et séparators sur certains éléments
		&.email, &.telephone, &.cellphone, &.faxNumber {
			.type, .separator { display: inline; visibility: visible; }
		}
	}
}

//création des fonctions localisées de déclinaisons média
@templateMedia_TabletPortrait(){
	#dm_footer {
		.adresses_multiples {
			.dm_widget_inner {
				@gridSiteWidth(@gridScreen_TabletPortrait; @gridCol_TabletPortrait; @gridPadding);
			}
		}
	}
}