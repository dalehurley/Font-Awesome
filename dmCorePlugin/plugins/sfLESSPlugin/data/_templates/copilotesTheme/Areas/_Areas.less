// _Areas.less
// v1.3
// Last Updated : 2012-06-11 15:45
// Copyright : SID Presse
// Author : Arnaud GAUDIN

//COULEURS DE DEBUG (affichée en mode /less.php)
.isLess {
	#dm_page { background-color: #aaa; }
	#dm_main { background-color: #bbb; }
	#dm_main_inner { background-color: #ccc; }
	
	// #dm_header > .dm_zones { background-color: #8ccccb; }
	#dm_footer > .dm_zones { background-color: #c8ccbc; }
	#dm_sidebar_left > .dm_zones { background-color: #ccccb8; }
	#dm_sidebar_right > .dm_zones { background-color: #b8ccb8; }
	// #dm_page_content > .dm_zones { background-color: #b8cccc; }
	#dm_custom_top > .dm_zones { background-color: #ccccb8; }
	#dm_custom_bottom > .dm_zones { background-color: fadeout(#ccb8cc, 50%); }
}

//couleur du fond général de la page
body { background-color: @bodyBgColor; }

//couleur de la zone située sous le header jusqu'en bas
#dm_main_inner { background-color: @mainBgColor; }

//couleur de la zone de contenu
#dm_page_content {
	background-color: @contentBgColor;
	//ajout coins arrondis an haut
	@borderRadiusCompress(@offL @offL 0 0);
	//suppression du fond sur la page d'accueil
	.page_main_root & { background-color: transparent; }
}

//couleur de la zone située sous le header jusqu'en bas
#dm_page {
	//on fait débuter le dégradé après le header (on suppose qu'il ne changera pas de hauteur)
	@verticalGradientMulti-4(0%; @gridBaseline*6; @gridBaseline*6; 100%; @bodyGradientColor1; @bodyGradientColor1; @bodyGradientColor1; @bodyGradientColor2);
}

#dm_page_inner {
	background-color: transparent;
	background-image: url("@{urlImagesTemplate}/DemoRef/copilotes-nuage.png");
	background-repeat: no-repeat;
	background-position: 50% @gridBaseline;
}

#dm_main {
	background-image: url("@{urlImagesTemplate}/DemoRef/copilotes-coccinelle.png");
	background-repeat: no-repeat;
	background-position: -180px 430px;
}

//stylage du header
#dm_header {
	background-color: @headerBgColor;
	.dm_zones {
		position: relative;
		@gridSiteWidth();
		margin-left: auto;
		margin-right: auto;
		padding-top: @gridBaseline/2;
		padding-bottom: @gridBaseline/2;
	}
}

//stylage du footer
#dm_footer {
	background-color: @footerBgColor;
	padding: 0;
	
	.dm_zones {
		@gridSiteWidth();
		margin-left: auto;
		margin-right: auto;
	}
	
	//widgets situés dans le footer
	.content_text {
		.isLess & { background-color: #B6E0D1; }
		position: relative;
		&, .link { color: @footerTextColor; }
		.link { text-decoration: none; &:hover { text-decoration: underline; } }
		float: right;
		&, .text_content p {
			font-size: @fontSizeMicro;
			line-height: @gridBaseline;
			margin: 0;
		}
	}
	.content_link {
		.isLess & { background-color: #E0B6D1; }
		position: relative;
		&, .link {
			color: @footerTextColor;
			text-decoration: none;
			&:hover { text-decoration: underline; }
		}
		font-size: @fontSizeMicro;
		line-height: @gridBaseline;
		float: left;
		margin-right: @offM;
	}
}


//stylage de la zone sous le header
#dm_custom_top {
	.dm_zones {
		padding-bottom: @gridBaseline/2;
		min-height: @gridBaseline;
	}
}

//stylage de la zone de bas de page
#dm_custom_bottom {
	.isLess & { background-color: fadeout(#998A99, 50%); }
	
	//permet d'étendre la zone en débordement de la page
	margin-left: -100%;
	margin-right: -100%;
	//ajout du fond du site
	background-image: url("@{urlImagesTemplate}/DemoRef/copilotes-coquelicot.png");
	background-repeat: no-repeat;
	background-position: 52.5% 100%;
	background-color: @bottomBgColor;

	//couleur du texte et des liens
	&, .name, .link { color: @bottomTextColor; }

	.dm_zones {
		position: relative;
		@gridSiteWidth();
		margin-left: auto;
		margin-right: auto;
		min-height: @gridBaseline*4;
		//on rajoute un padding en bas pour gérer l'emplacement des icônes sociales
		padding-bottom: @gridBaseline*4;

		//stylages des zones spécifiques
		.dm_zone.partners, .dm_zone.socialNetwork {
			position: absolute;
			bottom: 0;
			background-color: @colorWhite;
			.rgba & { background-color: fadeout(@colorWhite, 25%); }
			@borderRadiusCompress(@offL @offL 0 0);

			padding: @gridBaseline/2 @gridGutter;
			width: auto;
			height: @gridBaseline*2;

			//suppression bordure et replacement en mode edition
			#dm_page.edit & {
				position: relative;
				float: none;
				@borderRadiusCompress(0);
			}
		}

		.dm_zone.socialNetwork { right: 0; }

		//stylage de la zone spéciale pour les partenaires
		.dm_zone.partners {
			left: 0;

			.dm_widget.content_image.link_partner {
				float: left;
				margin-left: @gridGutter;
				&:first-child { margin-left: 0; }

				//décalage de padding
				@decalV: ((@gridBaseline*2 - @spriteFormat_M)/2 - 1px);
				@decalH: ((@gridColWidth - @spriteFormat_M)/2 - 1px);

				.dm_widget_inner {
					.isLess & { background-color: #CCEBD9; }
					padding: @decalV @decalH;
				}

				//stylages des logos
				.link {
					//ajout des transitions pour navigateurs récents
					.csstransitions & {
						@transitionCompress(all; .2s; ease-out; 0s);
					}

					display: block;
					//ajout du fond blanc arrondi avec bordure
					@verticalGradientMulti-4(0%; 49%; 51%; 100%; @colorWhite; @colorWhite; @colorCouleur3ClairSup; @colorCouleur3ClairSup);
					padding: 2px;
					border: 1px solid @colorWhite;
					overflow: hidden;

					//on ne sépare pas le rgba pour l'ombre car si le navigateur gère cette dernière il gère également le rgba
					@boxShadow(0 0 @offS fadeout(@colorBlack, 50%));
					@borderRadiusCompress(7px);
					//dimensions d'une sprite standard (padding déduit)
					width: (@spriteFormat_M - 4px);
					height: (@spriteFormat_M - 4px);

					&:hover {
						margin-top: @offS*-1;
						margin-bottom: @offS;
						border-color: @colorCouleur1;
						@boxShadow(0 @offS @offM fadeout(@colorBlack, 25%));
					}

					//placement de l'image
					img { display: block; }
				}
			}
		}
	}
}

#dm_page_content, #dm_sidebar_left, #dm_sidebar_right {
	//meilleure gestion uniformisée des bordures
	.dm_zones { margin-bottom: @gridBaseline; }
}