SidActuType:
  actAs:
    DmSortable:
    I18n:
      fields: [ title ]
      actAs:
        DmVersionable:
        Timestampable:
  columns:
    title:
      type: string(255)
      notnull: true
    is_active:
      type: boolean
      notnull: true
      default: true
  relations:
    SidActuArticles:
      foreignAlias: SidActuType
      class: SidActuArticle
      refClass: SidActuTypeArticle
      onDelete: Cascade

SidActuArticle:
  actAs:
#    DmTaggable:
    DmBlameable:
    DmSortable:
    I18n:
      fields: [ title, text, resume, debut_date, fin_date ]
      actAs:
        DmVersionable:
        Timestampable:
          
  columns:
    title:
      type: string(255)
      notnull: true
#    rubrique_id:
#      type: integer
#      notnull: true
    resume:
      type: clob
#      extra: ckeditor
      notnull: true
    text:
      type: clob
      extra: ckeditor
      notnull: true
    image:
      type: integer
    file:
      type: integer
    title_file:
      type: string(255)
    is_active:
      type: boolean
      notnull: true
      default: true
#    on_home:
#      type: boolean
#      notnull: true
#      default: true
    debut_date: date
    fin_date: date
  attributes:
    export: all
    validate: true
  relations:
    MRubriques:
      foreignAlias: SidRubrique
      class: SidRubrique
      refClass: SidActuArticleSidRubrique
      onDelete: Cascade
    Image:
      class:          DmMedia
      local:          image
      foreignAlias:   SidActuArticles
      onDelete: Cascade
    Files:
      class:          DmMedia
      local:          file
      foreignAlias:   SidActuArticles
      onDelete: Cascade     

SidActuTypeArticle:
  columns:
    sid_actu_type_id:
      type: integer
    sid_actu_article_id:
      type: integer
  relations:
    SidActuType:
      foreignAlias: SidActuTypages
      onDelete: Cascade
    SidActuArticle:
      foreignAlias: SidActuTypages
      onDelete: Cascade
      
SidActuArticleSidRubrique:
  columns:
    sid_actu_article_id:
      type:           integer 
    sid_rubrique_id:
      type:           integer
  relations:
    SidActuArticle:
      onDelete:       Cascade
    SidRubrique:
      onDelete:       Cascade